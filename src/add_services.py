import os
import sys

import django

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
sys.path.append(".")

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Django
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "core.settings")
django.setup()

from apps.services.models import Service, ServiceCategory


def create_services():
    """–°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ —É—Å–ª—É–≥–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""

    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥
    categories = [
        {
            "name": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
            "description": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏",
            "order": 1,
        },
        {"name": "–ê–Ω–∞–ª–∏–∑—ã", "description": "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è", "order": 2},
        {
            "name": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
            "description": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤",
            "order": 3,
        },
        {
            "name": "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
            "description": "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –æ—Ä–≥–∞–Ω–æ–≤",
            "order": 4,
        },
    ]

    for cat_data in categories:
        category, created = ServiceCategory.objects.get_or_create(**cat_data)
        print(f"{'‚úÖ –°–æ–∑–¥–∞–Ω–∞' if created else '‚ÑπÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞'} –∫–∞—Ç–µ–≥–æ—Ä–∏—è: {category.name}")

    # –£—Å–ª—É–≥–∏
    services_data = [
        # –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
        {
            "category": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
            "name": "–£–ó–ò –±—Ä—é—à–Ω–æ–π –ø–æ–ª–æ—Å—Ç–∏",
            "price": 2500,
            "description": "–£–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–æ–≤ –±—Ä—é—à–Ω–æ–π –ø–æ–ª–æ—Å—Ç–∏",
        },
        {
            "category": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
            "name": "–ú–†–¢ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–æ–∑–≥–∞",
            "price": 5000,
            "description": "–ú–∞–≥–Ω–∏—Ç–Ω–æ-—Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω–∞—è —Ç–æ–º–æ–≥—Ä–∞—Ñ–∏—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–æ–∑–≥–∞",
        },
        {
            "category": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
            "name": "–ö–¢ –≥—Ä—É–¥–Ω–æ–π –∫–ª–µ—Ç–∫–∏",
            "price": 4000,
            "description": "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è —Ç–æ–º–æ–≥—Ä–∞—Ñ–∏—è –æ—Ä–≥–∞–Ω–æ–≤ –≥—Ä—É–¥–Ω–æ–π –∫–ª–µ—Ç–∫–∏",
        },
        {
            "category": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
            "name": "–ú–∞–º–º–æ–≥—Ä–∞—Ñ–∏—è",
            "price": 2200,
            "description": "–†–µ–Ω—Ç–≥–µ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –º–æ–ª–æ—á–Ω—ã—Ö –∂–µ–ª–µ–∑",
        },
        # –ê–Ω–∞–ª–∏–∑—ã
        {
            "category": "–ê–Ω–∞–ª–∏–∑—ã",
            "name": "–û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏",
            "price": 800,
            "description": "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏",
        },
        {
            "category": "–ê–Ω–∞–ª–∏–∑—ã",
            "name": "–ë–∏–æ—Ö–∏–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏",
            "price": 1500,
            "description": "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –±–∏–æ—Ö–∏–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",
        },
        {
            "category": "–ê–Ω–∞–ª–∏–∑—ã",
            "name": "–ê–Ω–∞–ª–∏–∑ –º–æ—á–∏ –æ–±—â–∏–π",
            "price": 600,
            "description": "–û–±—â–∏–π –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –º–æ—á–∏",
        },
        {
            "category": "–ê–Ω–∞–ª–∏–∑—ã",
            "name": "–ì–æ—Ä–º–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å",
            "price": 3000,
            "description": "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞",
        },
        # –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
        {
            "category": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
            "name": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Ç–µ—Ä–∞–ø–µ–≤—Ç–∞",
            "price": 1200,
            "description": "–ü–µ—Ä–≤–∏—á–Ω—ã–π –ø—Ä–∏–µ–º –≤—Ä–∞—á–∞-—Ç–µ—Ä–∞–ø–µ–≤—Ç–∞",
        },
        {
            "category": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
            "name": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∫–∞—Ä–¥–∏–æ–ª–æ–≥–∞",
            "price": 1500,
            "description": "–ü—Ä–∏–µ–º –≤—Ä–∞—á–∞-–∫–∞—Ä–¥–∏–æ–ª–æ–≥–∞ —Å –≠–ö–ì",
        },
        {
            "category": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
            "name": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –Ω–µ–≤—Ä–æ–ª–æ–≥–∞",
            "price": 1400,
            "description": "–ü—Ä–∏–µ–º –≤—Ä–∞—á–∞-–Ω–µ–≤—Ä–æ–ª–æ–≥–∞",
        },
    ]

    for service_data in services_data:
        category = ServiceCategory.objects.get(name=service_data["category"])
        service, created = Service.objects.get_or_create(
            category=category,
            name=service_data["name"],
            defaults={
                "price": service_data["price"],
                "description": service_data["description"],
            },
        )
        print(f"{'‚úÖ –°–æ–∑–¥–∞–Ω–∞' if created else '‚ÑπÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∞'} —É—Å–ª—É–≥–∞: {service.name} - {service.price} —Ä—É–±.")

    print("\nüéâ –í—Å–µ —É—Å–ª—É–≥–∏ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!")
    print(f"üìä –í—Å–µ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: {ServiceCategory.objects.count()}")
    print(f"üìä –í—Å–µ–≥–æ —É—Å–ª—É–≥: {Service.objects.count()}")


if __name__ == "__main__":
    create_services()
